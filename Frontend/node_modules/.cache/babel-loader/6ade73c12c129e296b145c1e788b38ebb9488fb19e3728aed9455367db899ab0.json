{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\josga\\\\Desktop\\\\CalendarP\\\\Frontend\\\\src\\\\views\\\\ViewSchedule.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { forwardRef, useRef, useState, useEffect } from 'react';\nimport './../style.css';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport moment from 'moment';\nimport jsPDF from 'jspdf';\nimport { useSubject } from '../context/ScheduleContext';\nimport CalendarWeekView from '../components/CalendarWeekView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AvailableSubjectsWeekCalendar = ({\n  subjects\n}) => {\n  _s();\n  const [events, setEvents] = useState([]);\n  useEffect(() => {\n    const newEvents = [];\n    subjects.forEach(subject => {\n      subject.schedules.forEach(schedule => {\n        newEvents.push({\n          title: subject.name,\n          day: schedule.dia,\n          startHour: parseInt(schedule.hora_inicio.split(':')[0], 10),\n          endHour: parseInt(schedule.hora_fin.split(':')[0], 10),\n          description: 'Grupo ' + schedule.grupo_id\n        });\n      });\n    });\n    setEvents(newEvents);\n  }, [subjects]);\n  return /*#__PURE__*/_jsxDEV(CalendarWeekView, {\n    events: events\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 10\n  }, this);\n};\n_s(AvailableSubjectsWeekCalendar, \"j18ueuia/psAZ/XawE3UyqzOWsE=\");\n_c = AvailableSubjectsWeekCalendar;\nconst ViewSchedule = ({\n  name\n}) => {\n  _s2();\n  const calendarRef = useRef();\n  const {\n    firstWeek,\n    secondWeek\n  } = useSubject();\n  const printDocument = () => {\n    //generatePdf(null);\n    const doc = new jsPDF({\n      format: [2 * 800, 2 * 800]\n    });\n    doc.html(calendarRef.current, {\n      callback: function (pdf) {\n        pdf.save('document.pdf');\n      }\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: calendarRef,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Horarios establecidad para la primera semana \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AvailableSubjectsWeekCalendar, {\n        subjects: firstWeek\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Horarios establecidad para la segunda semana \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(AvailableSubjectsWeekCalendar, {\n        subjects: secondWeek\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"next-page\",\n      onClick: printDocument,\n      children: \"Generar PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-wrapper\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s2(ViewSchedule, \"x9CYrN4TjwSopomPm7cXVq97/qE=\", false, function () {\n  return [useSubject];\n});\n_c2 = ViewSchedule;\nexport default ViewSchedule;\nconst localizer = momentLocalizer(moment);\nconst MyCalendar = /*#__PURE__*/forwardRef(_c3 = (props, ref) => /*#__PURE__*/_jsxDEV(\"div\", {\n  children: /*#__PURE__*/_jsxDEV(Calendar, {\n    ref: ref,\n    localizer: localizer,\n    events: props.myDates,\n    startAccessor: \"start\",\n    endAccessor: \"end\",\n    style: {\n      height: 500\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 74,\n  columnNumber: 3\n}, this));\n_c4 = MyCalendar;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"AvailableSubjectsWeekCalendar\");\n$RefreshReg$(_c2, \"ViewSchedule\");\n$RefreshReg$(_c3, \"MyCalendar$forwardRef\");\n$RefreshReg$(_c4, \"MyCalendar\");","map":{"version":3,"names":["forwardRef","useRef","useState","useEffect","Calendar","momentLocalizer","moment","jsPDF","useSubject","CalendarWeekView","jsxDEV","_jsxDEV","Fragment","_Fragment","AvailableSubjectsWeekCalendar","subjects","_s","events","setEvents","newEvents","forEach","subject","schedules","schedule","push","title","name","day","dia","startHour","parseInt","hora_inicio","split","endHour","hora_fin","description","grupo_id","fileName","_jsxFileName","lineNumber","columnNumber","_c","ViewSchedule","_s2","calendarRef","firstWeek","secondWeek","printDocument","doc","format","html","current","callback","pdf","save","children","ref","className","onClick","_c2","localizer","MyCalendar","_c3","props","myDates","startAccessor","endAccessor","style","height","_c4","$RefreshReg$"],"sources":["C:/Users/josga/Desktop/CalendarP/Frontend/src/views/ViewSchedule.tsx"],"sourcesContent":["import { FC, forwardRef, useRef, useState, useEffect } from 'react';\n\nimport './../style.css';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport moment from 'moment';\nimport { getDates } from './../backend';\nimport html2canvas from 'html2canvas';\nimport jsPDF from 'jspdf';\nimport { useSubject } from '../context/ScheduleContext';\nimport CalendarWeekView from '../components/CalendarWeekView';\nimport { generatePdf } from '../api/api';\n\nconst AvailableSubjectsWeekCalendar: React.FC = ({ subjects }) => {\n  const [events, setEvents] = useState([]);\n\n  useEffect(() => {\n    const newEvents = [];\n    subjects.forEach((subject) => {\n      subject.schedules.forEach((schedule) => {\n        newEvents.push({\n          title: subject.name,\n          day: schedule.dia,\n          startHour: parseInt(schedule.hora_inicio.split(':')[0], 10),\n          endHour: parseInt(schedule.hora_fin.split(':')[0], 10),\n          description: 'Grupo ' + schedule.grupo_id,\n        });\n      });\n    });\n\n    setEvents(newEvents);\n  }, [subjects]);\n\n  return <CalendarWeekView events={events} />;\n};\n\nconst ViewSchedule: FC<{ name: string }> = ({ name }) => {\n  const calendarRef = useRef();\n  const { firstWeek, secondWeek } = useSubject();\n\n  const printDocument = () => {\n    //generatePdf(null);\n     const doc = new jsPDF({ format: [2 * 800, 2 * 800] });\n\n     doc.html(calendarRef.current, {\n       callback: function (pdf) {\n         pdf.save('document.pdf');\n       },\n     });\n  };\n\n  return (\n    <>\n      <div ref={calendarRef}>\n        <h2> Horarios establecidad para la primera semana </h2>\n        <AvailableSubjectsWeekCalendar subjects={firstWeek} />\n        <h2> Horarios establecidad para la segunda semana </h2>\n        <AvailableSubjectsWeekCalendar subjects={secondWeek} />\n      </div>\n\n      <button className=\"next-page\" onClick={printDocument}>\n        Generar PDF\n      </button>\n      <div className=\"button-wrapper\"></div>\n    </>\n  );\n};\n\nexport default ViewSchedule;\n\nconst localizer = momentLocalizer(moment);\n\nconst MyCalendar = forwardRef((props, ref) => (\n  <div>\n    <Calendar\n      ref={ref}\n      localizer={localizer}\n      events={props.myDates}\n      startAccessor=\"start\"\n      endAccessor=\"end\"\n      style={{ height: 500 }}\n    />\n  </div>\n));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}